<?xml version="1.0" encoding="UTF-8"?>
<beans
        xmlns:context="http://www.springframework.org/schema/context"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:dubbo="http://dubbo.apache.org/schema/dubbo"
        xmlns="http://www.springframework.org/schema/beans"
        xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        http://dubbo.apache.org/schema/dubbo
        http://dubbo.apache.org/schema/dubbo/dubbo.xsd"
>

    <!--扫描 handler 的实现包。 -->
    <context:component-scan base-package="com.dwarfeng.familyhelper.plugin.notify.handler"/>
    <!--扫描 dao 的实现包。 -->
    <context:component-scan base-package="com.dwarfeng.familyhelper.plugin.notify.dao"/>
    <!--扫描 service 的实现包。 -->
    <context:component-scan base-package="com.dwarfeng.familyhelper.plugin.notify.service"/>
    <!--扫描 configuration 的实现包。 -->
    <context:component-scan base-package="com.dwarfeng.familyhelper.plugin.notify.configuration"/>

    <!-- 向注册中心注册暴露服务地址,注册服务 -->
    <dubbo:service
            interface="com.dwarfeng.familyhelper.plugin.notify.service.SenderExecutorSupportMaintainService"
            ref="senderExecutorSupportMaintainServiceImpl"
    />
    <dubbo:service
            interface="com.dwarfeng.familyhelper.plugin.notify.service.SyncService"
            ref="syncServiceImpl"
    />

    <!-- 向注册中心注册暴露服务地址,注册消费者服务 -->
    <dubbo:reference
            id="notifySettingMaintainService"
            interface="com.dwarfeng.familyhelper.clannad.stack.service.NotifySettingMaintainService"
            check="false" timeout="60000" retries="3"
    />
    <dubbo:reference
            id="userLookupService"
            interface="com.dwarfeng.rbacds.stack.service.UserLookupService"
            check="false" timeout="60000" retries="3"
    />
    <dubbo:reference
            id="notifyTopicMaintainService"
            interface="com.dwarfeng.familyhelper.clannad.stack.service.NotifyTopicMaintainService"
            check="false" timeout="60000" retries="3"
    />
    <dubbo:reference
            id="notifyPreferenceMaintainService"
            interface="com.dwarfeng.familyhelper.clannad.stack.service.NotifyPreferenceMaintainService"
            check="false" timeout="60000" retries="3"
    />
    <dubbo:reference
            id="notifyMetaMaintainService"
            interface="com.dwarfeng.familyhelper.clannad.stack.service.NotifyMetaMaintainService"
            check="false" timeout="60000" retries="3"
    />
    <dubbo:reference
            id="notificationOperateService"
            interface="com.dwarfeng.familyhelper.clannad.stack.service.NotificationOperateService"
            check="false" timeout="60000" retries="3"
    />
</beans>
